# Make sure formatting of Journal column is consistent
head(summ_health$Journal)
summ_health <- summ_health %>%
mutate(Journal = str_to_title(Journal))
head(summ_health$Journal)
# Alphabetize by authors
# Remove the study ID and title columns
# Reorder columns so citation information is first
summ_health <- summ_health %>%
arrange(Authors) %>%
select(Authors, Year, Journal, Toxicants, Condition, Stress, Parasites, -Study, -Title)
# Create a summary table of sample sizes by study, keeping the citation information
summ_studies <- urban_data %>%
group_by(study, TITLE, AUTHORS, YEAR, JOURNAL) %>%
summarize(n=n())
head(summ_studies)
# Create a summary table of sample sizes by study and health metric
summ_health <- urban_data %>%
group_by(study, health) %>%
summarize(n=n())
# Then make the metrics into columns
summ_health <- summ_health %>%
pivot_wider(id_cols = study, names_from = health,
values_from = n, values_fill = 0)
# Then, add back in the citation information
citations <- distinct(urban_data, study, TITLE, AUTHORS, YEAR, JOURNAL)
summ_health <- left_join(summ_health, citations, by= "study")
head(summ_health)
## Section 2: Practice designing summary tables
```{r}
# Rename the columns of summ_health to be appropriate for display
summ_health <- summ_health %>%
rename('Study'=study,
"Toxicants" = toxicants,
"Condition" = condition,
"Stress" = stress,
"Parasites" = parasites,
"Title" = TITLE,
"Authors" = AUTHORS,
"Year" = YEAR,
"Journal" = JOURNAL)
names(summ_health)
# Make sure formatting of Journal column is consistent
head(summ_health$Journal)
summ_health <- summ_health %>%
mutate(Journal = str_to_title(Journal))
head(summ_health$Journal)
View(summ_health)
# Alphabetize by authors
# Remove the study ID and title columns
# Reorder columns so citation information is first
summ_health <- summ_health %>%
arrange(Authors) %>%
select(Authors, Year, Journal, Toxicants, Condition, Stress, Parasites)
View(summ_health)
# Alphabetize by authors
# Remove the study ID and title columns
# Reorder columns so citation information is first
summ_health <- summ_health %>%
ungroup() %>%
arrange(Authors) %>%
select(Authors, Year, Journal, Toxicants, Condition, Stress, Parasites)
# Double check that the names are what you expect
names(summ_health)
View(summ_health)
# Use flextable to make this a "pretty" table
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
View(ft_health)
ft_health
head(ft_health)
head(summ_health)
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = c("","","","Sample Sizes"),
colwidths = c(1,1,1,4))
ft_health
# Create a summary table of sample sizes by study and health metric
summ_health <- urban_data %>%
group_by(study, health) %>%
summarize(n=n())
View(summ_health)
# Then make the metrics into columns
summ_health <- summ_health %>%
pivot_wider(id_cols = study, names_from = health,
values_from = n, values_fill = 0)
View(summ_health)
# Create a summary table of sample sizes by study and health metric
summ_health <- urban_data %>%
group_by(study, health) %>%
summarize(n=n())
head(summ_health)
# Then make the metrics into columns
summ_health <- summ_health %>%
pivot_wider(id_cols = study, names_from = health,
values_from = n, values_fill = 0)
# Then, add back in the citation information
citations <- distinct(urban_data, study, TITLE, AUTHORS, YEAR, JOURNAL)
summ_health <- left_join(summ_health, citations, by= "study")
head(summ_health)
## Section 2: Practice designing summary tables
```{r}
# Rename the columns of summ_health to be appropriate for display
summ_health <- summ_health %>%
rename('Study'=study,
"Toxicants" = toxicants,
"Condition" = condition,
"Stress" = stress,
"Parasites" = parasites,
"Title" = TITLE,
"Authors" = AUTHORS,
"Year" = YEAR,
"Journal" = JOURNAL)
names(summ_health)
# Make sure formatting of Journal column is consistent
head(summ_health$Journal)
summ_health <- summ_health %>%
mutate(Journal = str_to_title(Journal))
head(summ_health$Journal)
# Alphabetize by authors
# Remove the study ID and title columns
# Reorder columns so citation information is first
summ_health <- summ_health %>%
ungroup() %>%
arrange(Authors) %>%
select(Authors, Year, Journal, Toxicants, Condition, Stress, Parasites)
# Double check that the names are what you expect
names(summ_health)
# Remove the grouping column
# I think i did this in the last step?
```
```{r}
# Use flextable to make this a "pretty" table
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = c("","","","Sample Sizes"),
colwidths = c(1,1,1,4))
ft_health
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = "Sample Sizes",
colwidths = c(4,5,6,7))
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = "Sample Sizes",
colwidths = c(0,0,0,1,1,1,1))
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = "Sample Sizes",
colwidths = c(4))
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = "Sample Sizes",
colwidths = c(1,1,1,4))
# Create a summary table of sample sizes by study and health metric
summ_health <- urban_data %>%
group_by(study, health) %>%
summarize(n=n())
head(summ_health)
# Then make the metrics into columns
summ_health <- summ_health %>%
pivot_wider(id_cols = study, names_from = health,
values_from = n, values_fill = 0)
# Then, add back in the citation information
citations <- distinct(urban_data, study, TITLE, AUTHORS, YEAR, JOURNAL)
summ_health <- left_join(summ_health, citations, by= "study")
head(summ_health)
## Section 2: Practice designing summary tables
```{r}
# Rename the columns of summ_health to be appropriate for display
summ_health <- summ_health %>%
rename('Study'=study,
"Toxicants" = toxicants,
"Condition" = condition,
"Stress" = stress,
"Parasites" = parasites,
"Title" = TITLE,
"Authors" = AUTHORS,
"Year" = YEAR,
"Journal" = JOURNAL)
names(summ_health)
# Make sure formatting of Journal column is consistent
head(summ_health$Journal)
summ_health <- summ_health %>%
mutate(Journal = str_to_title(Journal))
head(summ_health$Journal)
# Alphabetize by authors
# Remove the study ID and title columns
# Reorder columns so citation information is first
summ_health <- summ_health %>%
ungroup() %>%
arrange(Authors) %>%
select(Authors, Year, Journal, Toxicants, Condition, Stress, Parasites)
# Double check that the names are what you expect
names(summ_health)
# Remove the grouping column
# I think i did this in the last step?
```
```{r}
# Use flextable to make this a "pretty" table
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = "Sample Sizes",
colwidths = c(1,1,1,4))
head(summ_health)
# Create a new header for the sample sizes
ft_health <- ft_health %>%
add_header_row(values = c("Sample Sizes"),
colwidths = c(1,1,1,4))
# Create a new header for the sample sizes
ft_health <- ft_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites)
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites)
View(summ_health)
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
ft_health <- ft_health %>%
mutate(Sample_Size = "Sample Size")
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites) %>%
rename("Sample Size" = Sample_Size)
View(summ_health)
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
ft_health <- ft_health %>%
rename("Sample Size" = Sample_Size)
head(summ_health)
ft_health
# Center this label
ft_health <- ft_health %>%
align(part = "header", i = 8, align = "center")
# Center this label
ft_health <- ft_health %>%
align(part = "body", i = 8, align = "center")
ft_health
# Create a new header for the sample sizes
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites) %>%
rename("Sample Size" = Sample_Size)
# Create a new header for the sample sizes
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites) %>%
rename("Sample Size" = Sample_Size)
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
# Create a new header for the sample sizes
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites) %>%
rename("Sample Size" = Sample_Size)
ft_health
# Center this label
ft_health <- ft_health %>%
align(part = "body", j=8 , align = "center")
ft_health
ft_health <- flextable(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
# Create a new header for the sample sizes
summ_health <- summ_health %>%
mutate(Sample_Size = Toxicants + Condition + Stress + Parasites) %>%
rename("Sample Size" = Sample_Size)
ft_health <- flextable(summ_health)
head(summ_health)
ft_health
# Use flextable to format the text
# Make the header row bold
ft_health <- ft_health %>%
bold(part="header", bold = T)
ft_health
# Center this label
ft_health <- ft_health %>%
align(part = "header", j=8 , align = "center")
ft_health
View(urban_data)
# Summarize the urban data
# Create a table of mean and SD of effect size (r) by host class AND habitat (aqterr)
head(urban_data)
summary_urban <- urban_data %>%
group_by(host.class, aqterr) %>%
summarise(
mean_r = mean(r, na.rm = TRUE),
sd_r = sd(r, na.rm = TRUE),
n = n()
) %>%
ungroup()
View(summary_urban)
summary_urban <- urban_data %>%
group_by(host.class, aqterr) %>%
summarise(
mean_r = mean(r, na.rm = TRUE),
sd_r = sd(r, na.rm = TRUE),
n = n()
)
View(summary_urban)
# Export table to CSV with the following properties:
# Round numeric variables to three decimal places
# Rename the table to have informative names
# Step 1: Round numeric values and rename columns
summary_table <- summary_table %>%
mutate(
mean_r = round(mean_r, 3),
sd_r = round(sd_r, 3)
) %>%
rename(
`Host Class` = host.class,
`Habitat Type` = aqterr,
`Mean Effect Size (r)` = mean_r,
`SD of Effect Size (r)` = sd_r,
`Sample Size` = n
)
# Export table to CSV with the following properties:
# Round numeric variables to three decimal places
# Rename the table to have informative names
# Step 1: Round numeric values and rename columns
summary_urban <- summary_urban %>%
mutate(
mean_r = round(mean_r, 3),
sd_r = round(sd_r, 3)
) %>%
rename(
`Host Class` = host.class,
`Habitat Type` = aqterr,
`Mean Effect Size (r)` = mean_r,
`SD of Effect Size (r)` = sd_r,
`Sample Size` = n
)
View(summary_urban)
# Export table to CSV with the following properties:
# Round numeric variables to three decimal places
# Rename the table to have informative names
# Step 1: Round numeric values and rename columns
summary_urban <- summary_urban %>%
mutate(
mean_r = round(mean_r, 3),
sd_r = round(sd_r, 3)
) %>%
rename(
`Host Class` = host.class,
`Habitat Type` = aqterr,
`Mean Effect Size` = mean_r,
`SD of Effect Size` = sd_r,
`Sample Size` = n
)
summary_urban <- urban_data %>%
group_by(host.class, aqterr) %>%
summarise(
mean_r = mean(r, na.rm = TRUE),
sd_r = sd(r, na.rm = TRUE),
n = n()
)
# Export table to CSV with the following properties:
# Round numeric variables to three decimal places
# Rename the table to have informative names
# Step 1: Round numeric values and rename columns
summary_urban <- summary_urban %>%
mutate(
mean_r = round(mean_r, 3),
sd_r = round(sd_r, 3)
) %>%
rename(
`Host Class` = host.class,
`Habitat Type` = aqterr,
`Mean Effect Size` = mean_r,
`SD of Effect Size` = sd_r,
`Sample Size` = n
)
View(summary_urban)
write.csv(summary_urban, "effect_size_by_hostclass_habitat.csv")
ft_urban_sum <- flextable(summary_urban)
ft_urban_sum
recreate <- urban_data %>%
group_by(host.class) %>%
summarise(
r_positive = sum(r > 0, na.rm = TRUE),
r_negative = sum(r < 0, na.rm = TRUE),
mean_r = mean(r, na.rm = TRUE)
) %>%
mutate(mean_r = round(mean_r, 3))
recreate
View(recreate)
recreate <- urban_data %>%
group_by(host.class, health) %>%
summarise(
r_positive = sum(r > 0, na.rm = TRUE),
r_negative = sum(r < 0, na.rm = TRUE),
mean_r = mean(r, na.rm = TRUE)
) %>%
mutate(mean_r = round(mean_r, 3))
recreate
View(recreate)
recreate_table <- flextable(recreate)
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "host.class")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "host.class") %>%
rename("Host Class" = host.class,
"Health Metric" = health,
"# positive (r > 0)" = r_positive,
" # negative (r < 0)" = r_negative,
"Mean r" = mean_r)
recreate <- urban_data %>%
group_by(host.class, health) %>%
summarise(
r_positive = sum(r > 0, na.rm = TRUE),
r_negative = sum(r < 0, na.rm = TRUE),
mean_r = mean(r, na.rm = TRUE)
) %>%
mutate(mean_r = round(mean_r, 3)) %>%
rename("Host Class" = host.class,
"Health Metric" = health,
"# positive (r > 0)" = r_positive,
" # negative (r < 0)" = r_negative,
"Mean r" = mean_r)
recreate_table <- flextable(recreate) %>%
merge_v(j= "host.class")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="all", bold = T)
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 2, unit = "in")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 1, unit = "in")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 1.5, unit = "in")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 1.2, unit = "in")
recreate_table
recreate_table <- flextable(recreate) %>%
merge_v(j= "Host Class") %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 1, unit = "in")
recreate_table
View(summ_health)
ft_urban_sum <- flextable(summary_urban)
ft_urban_sum
ft_urban_sum
ft_urban_sum <- ft_urban_sum %>%
bold(part="header", bold = T)%>%
font(fontname = "Times New Roman", part = "all")%>%
width(width = 1, unit = "in")
# Display your final table in the Markdown document
ft_urban_sum
View(summ_health)
head(summ_health)
